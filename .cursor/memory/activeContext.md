# アクティブな開発コンテキスト

このドキュメントでは、プロジェクトの現在の焦点、最近の変更、および次のステップについて詳述します。これは常に最新の状態を維持すべき「生きた」ドキュメントです。

## 現在の開発焦点

**現在のフェーズ**: .cursor/flow/developmentFlow.md のフェーズ「3. 機能仕様書の作成」

**主な目標**:

1. 各機能・画面ごとの詳細な仕様の定義
2. 画面遷移の設計
3. エラー処理の定義
4. 機能間の連携の明確化

**進行中のタスク**:

- 機能仕様書の作成

  - イベント管理システムの機能仕様の詳細化
  - チケット販売サイトの機能仕様の詳細化
  - チケット確認アプリの機能仕様の詳細化
  - 各システム間の連携ポイントの明確化

- 技術的な基盤整備

  - 機能仕様に基づくデータモデルの検討
  - API 設計の準備
  - 認証・認可フローの設計
  - Storybookの設定と既存コンポーネントの文書化

- 開発環境の構成
  - Supabase の初期設定準備
  - テスト環境の構築検討
  - Storybookを用いたコンポーネント開発環境の整備

## 完了したフェーズと成果物

### 1. プロダクト概要の理解・要件のヒアリング (完了)

- プロダクトの特徴と要件の確定
  - パフォーマンス特化型チケット販売プラットフォームの基本コンセプト確立
  - ターゲットユーザー（イベント主催者、参加者、運営スタッフ）の明確化
  - 主要ユースケースの定義
  - MVP の 3 つの主要システム（イベント管理、チケット販売、チケット確認）の特定
- 成果物の作成
  - .cursor/memory/productContext.md の作成
  - .cursor/memory/progress.md の更新
  - .cursor/memory/activeContext.md の更新
  - Notion タスク管理表の作成と基本タスクの登録
  - 開発フローに沿ったタスク体系の構築

### 2. デザインシステムの構築 (完了)

- デザインシステムの基本方針決定
  - Human Interface Guidelines をベースとしたデザインシステムの選定
  - teal 系のプライマリカラーと Noto Sans JP フォントの採用
  - フラットデザイン寄りのシャドウ設定
- コアコンポーネントの設計と実装
  - Button、Input、Card、Badge などの基本コンポーネント実装
  - コンポーネントのバリエーションとスタイル定義
- 技術的な設定の実装
  - tailwind.config.js の設定
  - グローバル CSS の設定
  - ユーティリティ関数の実装
- 成果物の作成
  - .cursor/rules/designSystem.md の更新
  - tailwind.config.js の実装
  - app/globals.css の更新
  - コア UI コンポーネントの実装

## 優先度の高い次のステップ

1. **Storybookの設定と既存コンポーネントの文書化**

   - Storybookのインストールと初期設定の完了
   - 既存UIコンポーネント（Button、Input、Card、Badge）のStory作成
   - コンポーネントの使用方法をMDXで文書化
   - レビュープロセスの確立とテスト実施

2. **機能仕様書の作成**

   - イベント管理システムの機能仕様の詳細化
   - チケット販売サイトの機能仕様の詳細化
   - チケット確認アプリの機能仕様の詳細化
   - 各システム間の連携ポイントの明確化

3. **画面設計の詳細化**

   - 各画面のワイヤーフレーム作成
   - 画面遷移図の作成
   - 主要ユーザーフローの定義

4. **データモデルの設計**
   - エンティティの特定と関連の定義
   - データベーススキーマの設計
   - API 設計の準備

## 次のフェーズへの準備

現在の「3. 機能仕様書の作成」フェーズの後に控える「4. テストケース作成」フェーズへの準備:

- 機能仕様書に基づくテスト範囲の検討
- テスト戦略の明確化
- テストケース作成のためのテンプレート準備
- テスト環境の構築検討

## 懸案事項と課題

1. **機能要件**

   - QR コード認証の信頼性と複製対策
   - 決済システムの選定と連携方法
   - リアルタイム更新が必要な機能の特定

2. **技術的課題**

   - Supabase を使用したリアルタイム機能の実装方法
   - 大量アクセス時のパフォーマンス対策
   - セキュリティ要件の明確化
   - コンポーネントの品質と一貫性の確保

3. **プロジェクト管理**
   - 機能仕様書の粒度と詳細レベルの決定
   - 優先順位付けと段階的実装計画の策定
   - テスト駆動開発の具体的な進め方の明確化
   - Storybookを活用した効率的なレビュープロセスの確立

## 参考情報

- Next.js 14 App Router: https://nextjs.org/docs/app
- Supabase: https://supabase.com/docs
- Tailwind CSS: https://tailwindcss.com/docs
- Human Interface Guidelines: https://developer.apple.com/design/human-interface-guidelines/
- Storybook: https://storybook.js.org/docs/

## 最近の決定事項

- デザインシステムの構築フェーズを完了し、機能仕様書の作成フェーズに移行
- Human Interface Guidelines をベースとしたデザインシステムの採用
- teal 系のプライマリカラーと Noto Sans JP フォントの採用
- フラットデザイン寄りのシャドウ設定
- コンポーネント開発・レビュープロセスにStorybookを導入
